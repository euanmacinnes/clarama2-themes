{% if not test %}
    {% set test = {'browser': 'chromium','headless': False, 'viewport': {'width': 1280, 'height': 720}, 'video': 'on', 'screenshot': 'on'} %}
{% endif %}
<div class="clarama-cell-content" celltype="test" dataid="{{ loop_index }}">
    <div class="col mb-3" style="padding: 0">
        Test Configuration
        <hr/>
        <div class="container-fluid">
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="browser">Browser</label>
                        <select class="form-control" id="browser" name="browser">
                            <option value="chromium" {% if test.browser == 'chromium' %}selected{% endif %}>
                                Chromium
                            </option>
                            <option value="firefox" {% if test.browser == 'firefox' %}selected{% endif %}>
                                Firefox
                            </option>
                            <option value="webkit" {% if test.browser == 'webkit' %}selected{% endif %}>WebKit
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="headless">Headless Mode</label>
                        <select class="form-control" id="headless" name="headless">
                            <option value="true" {% if test.headless %}selected{% endif %}>Yes</option>
                            <option value="false" {% if not test.headless %}selected{% endif %}>No</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="viewport_width">Viewport Width</label>
                        <input type="number" class="form-control" id="viewport_width" name="viewport_width"
                               value="{{ test.viewport.width }}">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="viewport_height">Viewport Height</label>
                        <input type="number" class="form-control" id="viewport_height" name="viewport_height"
                               value="{{ test.viewport.height }}">
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="timeout">Timeout (ms)</label>
                        <input type="number" class="form-control" id="timeout" name="timeout"
                               value="{{ test.timeout }}">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="screenshot">Screenshot Mode</label>
                        <select class="form-control" id="screenshot" name="screenshot">
                            <option value="on" {% if test.screenshot == 'on' %}selected{% endif %}>Always
                            </option>
                            <option value="off" {% if test.screenshot == 'off' %}selected{% endif %}>Never
                            </option>
                            <option value="only-on-failure"
                                    {% if test.screenshot == 'only-on-failure' %}selected{% endif %}>Only on
                                Failure
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="video">Video Recording</label>
                        <select class="form-control" id="video" name="video">
                            <option value="on" {% if test.video == 'on' %}selected{% endif %}>Always</option>
                            <option value="off" {% if test.video == 'off' %}selected{% endif %}>Never</option>
                            <option value="retain-on-failure"
                                    {% if test.video == 'retain-on-failure' %}selected{% endif %}>Retain on
                                Failure
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="trace">Trace Recording</label>
                        <select class="form-control" id="trace" name="trace">
                            <option value="on" {% if test.trace == 'on' %}selected{% endif %}>Always</option>
                            <option value="off" {% if test.trace == 'off' %}selected{% endif %}>Never</option>
                            <option value="retain-on-failure"
                                    {% if test.trace == 'retain-on-failure' %}selected{% endif %}>Retain on
                                Failure
                            </option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

